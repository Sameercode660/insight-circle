<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsightCircle - Sign Up</title>
    <link rel="stylesheet" href="Signup.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <section class="signup-page">
        <div class="container">
            <h1 class="brand-heading">InsightCircle</h1>
            <h2>Sign Up</h2>
            <p>Join us today as a Mentor or Mentee and start your journey with InsightCircle.</p>
            <div class="signup-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Create a password" required>
                </div>
                <!-- <div class="form-group">
                    <label for="role">Sign Up As</label>
                    <select id="role" name="role" required>
                        <option value="mentee">Mentee</option>
                        <option value="mentor">Mentor</option>
                    </select>
                </div> -->
                <button type="submit" class="signup-btn">Sign Up</button>
                <p class="existing-account">Already have an account? <a href="./Login.html">Login here</a></p>
            </div>
        </div>
    </section>
</body>


<!-- script for sign-up -->

<script>
    const name = document.getElementById("name");
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const signupBtn = document.querySelector(".signup-btn");

    signupBtn.addEventListener('click', async() => {
        loginBtn.innerHTML = "Loading...";
        const data = {
            name: name.value,
            email: email.value,
            password: password.value,
        }

        const response = await axios.post("http://localhost:3000/api/user/auth/signup", data);

        console.log(response)

        if (response.data.status == false) {
            alert("Sign up failed!Please try again");
            localStorage.setItem("login", false)
        }
        loginBtn.innerHTML = "Sign Up";
        localStorage.setItem("login", true)
        window.location.href = "../Home.html";
    })    

        
</script>
</html>